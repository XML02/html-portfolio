<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>ONE PAGE – SALES MINUS</title>
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
<style>
  :root{
    --blue-900:#234a70;
    --blue-800:#2b5682;
    --blue-100:#e7f0fa;
    --line:#cdd9e6;
    --text:#1b2538;
    --bg:#f3f6fb;
    --accent:#ffcb05;
    --hi-bg:#fff7cc;
  }

  html{scroll-behavior:smooth;}
  body{
    margin:0;
    background:var(--bg);
    color:var(--text);
    font-family:'Roboto', Arial, sans-serif;
    line-height:1.45;
  }

  /* Sticky header with wave */
  .header{
    position:fixed;
    top:0; left:0; right:0;
    z-index:1000;
  }

  /* Title band */
  .header-top{
    background:var(--blue-800);
    color:#fff;
    padding:20px 24px 40px;
    position:relative;
    box-shadow:0 2px 10px rgba(0,0,0,.12);
  }

  /* White wave below the title band */
  .header-top::after{
    content:"";
    position:absolute;
    left:-10px; right:-10px; bottom:-1px;
    height:36px;
    background:var(--bg);
    border-top-left-radius:60px 40px;
    border-top-right-radius:18px 14px;
    z-index:1; /* below navbar */
  }

  .header h1{
    margin:0 0 6px 0;
    font-size:24px;
    font-weight:700;
    letter-spacing:.4px;
    position:relative; z-index:2;
  }
  .header .team{
    margin:0;
    font-size:14px;
    position:relative; z-index:2;
    opacity:.95;
  }
  .header .team b{font-weight:600;}

  /* Navbar (no default active highlight) */
  .navbar{
    background:var(--blue-900);
    display:flex; gap:22px;
    padding:8px 24px;
    position:relative; z-index:2;
    margin-top:-28px; /* closes the wave gap */
  }
  .navbar a{
    color:#fff; text-decoration:none;
    font-weight:500; font-size:14px;
    padding:6px 0;
    transition:color .2s ease;
  }
  .navbar a:hover{color:var(--accent);}
  .navbar a.active{color:var(--accent);} /* not applied until click */

  /* Content spacing below fixed header */
  .wrap{
    max-width:1200px;
    margin:0 auto;
    padding:128px 16px 40px; /* equals total fixed header height */
  }

  /* Section heading */
  .h2{
    color:var(--blue-900);
    font-weight:700;
    margin:16px 0 10px;
    scroll-margin-top:128px; /* avoids being hidden on anchor jump */
    transition:background .6s ease;
    border-radius:4px;
    padding:2px 4px;
  }

  /* Click highlight effects */
  .highlight{
    background:var(--hi-bg);
    box-shadow:0 0 0 2px var(--accent) inset;
  }
  .pulse{
    animation: fadePulse 1.2s ease forwards;
    box-shadow:0 0 0 3px var(--accent) inset;
    background:#fffdf0;
  }
  @keyframes fadePulse{
    0%   { background:#fffdf0; box-shadow:0 0 0 3px var(--accent) inset; }
    100% { background:#fff;    box-shadow:none; }
  }

  /* Tables */
  .table{
    width:100%;
    border-collapse:collapse;
    background:#fff;
    border:1px solid var(--line);
  }
  .table th,
  .table td{
    border:1px solid var(--line);
    padding:10px 12px;
    vertical-align:top;
    font-size:14px;
  }
  .table th{
    width:200px;
    background:var(--blue-100);
    font-weight:700;
    white-space:nowrap;
  }
  .table.booking th{ width:180px; }

  /* Optional section wrapper */
  .section{
    margin-bottom:18px;
    background:#fff;
    border:1px solid var(--line);
  }
  .section .table{ border:none; }

  /* Mobile */
  @media (max-width: 800px){
    .header h1{font-size:20px;}
    .wrap{ padding-top:116px; }
    .h2{ scroll-margin-top:116px; }
    .table th{width:140px;}
  }
</style>
</head>
<body>

<header class="header">
  <div class="header-top">
    <h1>ONE PAGE – SALES MINUS</h1>
    <p class="team">Team: <b>Sales Ops</b></p>
  </div>
  <nav class="navbar">
    <a href="#provision-booking">Provision Booking</a>
    <a href="#provision-release">Provision Release</a>
    <a href="#provision-adjustment">Provision Adjustment</a>
  </nav>
</header>

<main class="wrap">

  <!-- Provision Booking -->
  <h2 id="provision-booking" class="h2">Provision Booking</h2>
  <table class="table booking">
    <!-- T1 + T2 + Promo merged into one row -->
    <tr>
      <th>T1 / T2 / Promo</th>
      <td>
        The T1, T2 and Promo (T1/T2) provision is automatically recorded by SAP, which calculates it based on the rebate percentage specified in the ZPB123 file. This file, which contains the necessary rebate details, is updated once every quarter to ensure that the provision is accurately booked in alignment with the most current rebate percentages (CEE Regions provide the promo budget at the beginning of each quarter, then break it down from the BU level to the SKU level according to the sell-in distribution.)
      </td>
    </tr>
    <tr>
      <th>BM (A)</th>
      <td>
        The BM provision is calculated by multiplying the BM sell-in data for the current month (extracted from SAP) by the BM%. BM% is provided by the business managers. Ideally, this requires a quarterly business review to ensure accuracy, as these percentages are essential for determining the required provision amounts.
      </td>
    </tr>
    <tr>
      <th>BM (B)</th>
      <td>
        This approach is designed to load BM provision input from the CEE team. Due to the relative newness of the BM concept and the limited historical data available, the team prefers to share specific provision amounts rather than percentages for accuracy.
      </td>
    </tr>
  </table>

  <!-- Provision Release -->
  <h2 id="provision-release" class="h2">Provision Release</h2>
  <table class="table">
    <tr>
      <th>T1 / T2 / Promo / BM</th>
      <td>
        The goal is to ensure that our provisioned amount is sufficient to cover the full payment obligation for each sub-BU. This process involves a comparison between the provision and the actual payment amount at the sub-BU level. If the provision fully covers 100% of the payment for that sub-BU, we will release the entire payment amount accordingly. If the provision does not fully cover the payment, meaning it is less than the required amount, we will only release the provisioned amount for that sub-BU.
      </td>
    </tr>
  </table>

  <!-- Provision Adjustment -->
  <h2 id="provision-adjustment" class="h2">Provision Adjustment</h2>
  <table class="table">
    <tr>
      <th>Adjustment</th>
      <td>
        The primary purpose of provision adjustment is to address discrepancies between the actual achieved provision and the automated provision (based on ZPB123). For instance: <b>T1 Adjustment</b> = Actual Achieved Rebate (recorded on MSD) - Automated Provision (recorded on SAP).
        <br><br>
        <b>Please note</b> that the approach for quarterly and monthly adjustments differs. For example, auto provisions booked in SAP must be reversed by the end of the quarter, after which we will book the provisions based on the actual amounts.
      </td>
    </tr>
  </table>

</main>

<script>
  // Ensure no nav item is highlighted on load
  document.querySelectorAll('.navbar a').forEach(l => l.classList.remove('active'));

  // Highlight on click: set nav active, flash title + content block
  document.querySelectorAll('.navbar a').forEach(link => {
    link.addEventListener('click', () => {
      const id = link.getAttribute('href');
      const heading = document.querySelector(id);
      if (!heading) return;
      const block = heading.nextElementSibling;

      // nav active state only after click
      document.querySelectorAll('.navbar a').forEach(l => l.classList.remove('active'));
      link.classList.add('active');

      // brief highlight after scroll settles
      setTimeout(() => {
        heading.classList.add('highlight');
        if (block) block.classList.add('pulse');
        setTimeout(() => {
          heading.classList.remove('highlight');
          if (block) block.classList.remove('pulse');
        }, 1200);
      }, 60);
    });
  });

  // If you want NO automatic active state on scroll, keep the observer disabled.
  // To enable active-on-scroll, uncomment the block below.

  /*
  const headings = document.querySelectorAll('.h2');
  const links = Array.from(document.querySelectorAll('.navbar a'));
  const io = new IntersectionObserver(entries => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        const id = '#' + entry.target.id;
        links.forEach(l => l.classList.toggle('active', l.getAttribute('href') === id));
      }
    });
  }, { rootMargin: '-40% 0px -50% 0px', threshold: 0 });
  headings.forEach(h => io.observe(h));
  */
</script>

</body>
</html>

